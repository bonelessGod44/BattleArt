<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage Challenges - BattleArt Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root {
            --primary-bg: #8c76ec;
            --secondary-bg: #a6e7ff;
            --light-purple: #c3b4fc;
            --dark-purple-border: #7b68ee;
            --text-dark: #333;
        }

        body {
            background-color: var(--secondary-bg);
            font-family: 'Inter', sans-serif;
        }

        .navbar-custom {
            background-color: var(--primary-bg);
            padding: 1rem 1.5rem;
        }

        .navbar-brand-text {
            color: #fff;
            font-weight: bold;
        }

        .dashboard-container {
            max-width: 1100px;
            margin: 3rem auto;
            background: #fff;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .table th {
            background-color: var(--light-purple);
            color: #fff;
        }

        .btn-primary-custom {
            background-color: var(--primary-bg);
            border: none;
            color: #fff;
            padding: 0.3rem 0.9rem;
            border-radius: 15px;
        }

            .btn-primary-custom:hover {
                background-color: var(--dark-purple-border);
            }

        .filter-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-custom">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="admin_dashboard.html">
                <img src="assets/images/home.png" alt="Home" width="24" height="24" class="me-2">
                <span class="navbar-brand-text">BattleArt</span>
            </a>
        </div>
    </nav>

    <div class="dashboard-container">
        <h2 class="text-center" style="color: var(--primary-bg);">Manage Challenges</h2>

        <div class="filter-section">
            <input type="text" id="searchInput" class="form-control" style="width: 250px;" placeholder="Search challenge...">
        </div>

        <table class="table table-bordered table-hover" id="challengeTable">
            <thead>
                <tr>
                    <th>Challenge Title</th>
                    <th>Description</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Fantasy World Design</td>
                    <td>Create a landscape that blends magic and nature.</td>
                    <td>2025-01-01</td>
                    <td>2025-01-30</td>
                    <td>
                        <a href="#" class="btn btn-primary-custom" data-bs-toggle="modal" data-bs-target="#challengeModal" data-title="Fantasy World Design" data-desc="Create a landscape that blends magic and nature." data-start="2025-01-01" data-end="2025-01-30">View</a>
                        <button class="btn btn-danger btn-sm delete-btn">Delete</button>
                    </td>
                </tr>
                <tr>
                    <td>Cyberpunk Portrait</td>
                    <td>Draw a futuristic portrait in neon style.</td>
                    <td>2025-02-05</td>
                    <td>2025-03-01</td>
                    <td>
                        <a href="#" class="btn btn-primary-custom" data-bs-toggle="modal" data-bs-target="#challengeModal" data-title="Cyberpunk Portrait" data-desc="Draw a futuristic portrait in neon style." data-start="2025-02-05" data-end="2025-03-01">View</a>
                        <button class="btn btn-danger btn-sm delete-btn">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Challenge Modal -->
    <div class="modal fade" id="challengeModal" tabindex="-1" aria-labelledby="challengeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header" style="background-color: var(--primary-bg); color: #fff;">
                    <h5 class="modal-title" id="challengeModalLabel">Challenge Details</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h4 id="modalChallengeTitle"></h4>
                    <p id="modalChallengeDesc"></p>
                    <p><strong>Start:</strong> <span id="modalChallengeStart"></span></p>
                    <p><strong>End:</strong> <span id="modalChallengeEnd"></span></p>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer-custom text-center mt-5 p-3" style="background-color: var(--primary-bg); color: white;">
        &copy; 2025 BattleArt. All rights reserved.
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    // Search Filter
    const searchInput = document.getElementById('searchInput');
    const rows = document.querySelectorAll('#challengeTable tbody tr');

    searchInput.addEventListener('input', function() {
        const query = this.value.toLowerCase();
        rows.forEach(row => {
            const title = row.cells[0].textContent.toLowerCase();
            row.style.display = title.includes(query) ? '' : 'none';
        });
    });

    // Delete Row
    document.querySelectorAll('.delete-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            if (confirm('Delete this challenge?')) {
                this.closest('tr').remove();
            }
        });
    });

    // Modal View
    document.querySelectorAll('[data-bs-target="#challengeModal"]').forEach(btn => {
        btn.addEventListener('click', function() {
            document.getElementById('modalChallengeTitle').textContent = this.dataset.title;
            document.getElementById('modalChallengeDesc').textContent = this.dataset.desc;
            document.getElementById('modalChallengeStart').textContent = this.dataset.start;
            document.getElementById('modalChallengeEnd').textContent = this.dataset.end;
        });
    });
    </script>
</body>
</html>
